<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 25.3.0" /><title></title><style type="text/css">body { font-family:'Times New Roman'; font-size:12pt }p { margin:0pt }</style></head><body><div><p style="font-size:10.5pt"><span style="font-family:'Courier New'">&lt;!DOCTYPE html&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">&lt;html lang="ja"&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">&lt;head&gt;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;meta charset="UTF-8"&gt;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;title&gt;</span><span style="font-family:'MS Gothic'">カメラ</span><span style="font-family:'Microsoft JhengHei'">診断</span><span style="font-family:'MS Gothic'">アプリ</span><span style="font-family:'Courier New'">&lt;/title&gt;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;style&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">body {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">font-family: Arial, sans-serif;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">max-width: 800px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">margin: 0 auto;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">padding: 20px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">text-align: center;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">background-color: #f5f5f5;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">h1 {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">color: #333;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">.camera-container {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">width: 640px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">height: 480px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">margin: 20px auto;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">border: 2px solid #ddd;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">background-color: #000;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">position: relative;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">overflow: hidden;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">#cameraView {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">width: 100%;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">height: 100%;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">object-fit: cover;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">#captureCanvas {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">display: none;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">#resultImage {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">max-width: 100%;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">max-height: 100%;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">display: none;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">.controls {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">margin: 20px 0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">button {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">background-color: #4CAF50;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">color: white;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">border: none;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">padding: 12px 24px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">margin: 0 10px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">font-size: 16px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">cursor: pointer;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">border-radius: 4px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">transition: background-color 0.3s;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">button:hover {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">background-color: #45a049;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">button:disabled {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">background-color: #cccccc;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">cursor: not-allowed;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">.status {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">margin: 20px 0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">padding: 10px;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">border-radius: 4px;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">.success {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">background-color: #dff0d8;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">color: #3c763d;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">.error {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">background-color: #f2dede;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">color: #a94442;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;/style&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">&lt;/head&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">&lt;body&gt;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;h1&gt;</span><span style="font-family:'MS Gothic'">カメラ</span><span style="font-family:'Microsoft JhengHei'">診断</span><span style="font-family:'MS Gothic'">アプリ</span><span style="font-family:'Courier New'">&lt;/h1&gt;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;p&gt;</span><span style="font-family:'MS Gothic'">カメラで</span><span style="font-family:'Microsoft JhengHei'">撮影</span><span style="font-family:'MS Gothic'">した</span><span style="font-family:'Microsoft JhengHei'">画像</span><span style="font-family:'MS Gothic'">を</span><span style="font-family:'Courier New'">Discord</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">送信</span><span style="font-family:'MS Gothic'">します</span><span style="font-family:'Courier New'">&lt;/p&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;div class="camera-container"&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;video id="cameraView" autoplay playsinline&gt;&lt;/video&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;canvas id="captureCanvas"&gt;&lt;/canvas&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;img id="resultImage" alt="</span><span style="font-family:'Microsoft JhengHei'">撮影結果</span><span style="font-family:'Courier New'">"&gt;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;/div&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;div class="controls"&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;button id="startBtn"&gt;</span><span style="font-family:'MS Gothic'">カメラを</span><span style="font-family:'Microsoft JhengHei'">起動</span><span style="font-family:'Courier New'">&lt;/button&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;button id="captureBtn" disabled&gt;</span><span style="font-family:'Microsoft JhengHei'">撮影</span><span style="font-family:'Courier New'">&lt;/button&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;button id="sendBtn" disabled&gt;Discord</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">送信</span><span style="font-family:'Courier New'">&lt;/button&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;button id="resetBtn" disabled&gt;</span><span style="font-family:'MS Gothic'">やり</span><span style="font-family:'Microsoft JhengHei'">直</span><span style="font-family:'MS Gothic'">す</span><span style="font-family:'Courier New'">&lt;/button&gt;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;/div&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;div id="statusMessage" class="status" style="display: none;"&gt;&lt;/div&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;script&gt;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'Microsoft JhengHei'">必要</span><span style="font-family:'MS Gothic'">な</span><span style="font-family:'Microsoft JhengHei'">要素</span><span style="font-family:'MS Gothic'">を</span><span style="font-family:'Microsoft JhengHei'">取得</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const video = document.getElementById('cameraView');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const canvas = document.getElementById('captureCanvas');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const resultImage = document.getElementById('resultImage');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const startBtn = document.getElementById('startBtn');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const captureBtn = document.getElementById('captureBtn');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const sendBtn = document.getElementById('sendBtn');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const resetBtn = document.getElementById('resetBtn');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const statusMessage = document.getElementById('statusMessage');</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">// Discord Webhook URL</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">const WEBHOOK_URL = '</span><a href="https://discord.com/api/webhooks/1339199470235287635/nE-ZhO0vj-I21Mp5j5gfKzwoGzVDYKJJ4q0hq09miPDjoL4THXLvSLjw6oUneig3ff71';" style="text-decoration:none"><span style="font-family:'Courier New'; text-decoration:underline; color:#0000ff">https://discord.com/api/webhooks/1339199470235287635/nE-ZhO0vj-I21Mp5j5gfKzwoGzVDYKJJ4q0hq09miPDjoL4THXLvSLjw6oUneig3ff71';</span></a></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">let stream = null;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">let capturedImageData = null;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">カメラを</span><span style="font-family:'Microsoft JhengHei'">起動</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">startBtn.addEventListener('click', async () =&gt; {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">try {</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">stream = await navigator.mediaDevices.getUserMedia({</span></p><p style="text-indent:126pt; font-size:10.5pt"><span style="font-family:'Courier New'">video: {</span></p><p style="text-indent:151.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">width: { ideal: 1280 },</span></p><p style="text-indent:151.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">height: { ideal: 720 },</span></p><p style="text-indent:151.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">facingMode: 'user' // </span><span style="font-family:'MS Gothic'">フロントカメラを</span><span style="font-family:'Microsoft JhengHei'">使用</span></p><p style="text-indent:126pt; font-size:10.5pt"><span style="font-family:'Courier New'">},</span></p><p style="text-indent:126pt; font-size:10.5pt"><span style="font-family:'Courier New'">audio: false</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">});</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">video.srcObject = stream;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">startBtn.disabled = true;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">captureBtn.disabled = false;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">resetBtn.disabled = true;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">sendBtn.disabled = true;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">showStatus('</span><span style="font-family:'MS Gothic'">カメラが</span><span style="font-family:'Microsoft JhengHei'">起動</span><span style="font-family:'MS Gothic'">しました</span><span style="font-family:'Courier New'">', 'success');</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">} catch (err) {</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">console.error('</span><span style="font-family:'MS Gothic'">カメラ</span><span style="font-family:'Microsoft JhengHei'">起動</span><span style="font-family:'MS Gothic'">エラー</span><span style="font-family:'Courier New'">:', err);</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">showStatus('</span><span style="font-family:'MS Gothic'">カメラの</span><span style="font-family:'Microsoft JhengHei'">起動</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">失敗</span><span style="font-family:'MS Gothic'">しました</span><span style="font-family:'Courier New'">: ' + err.message, 'error');</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">});</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'Microsoft JhengHei'">写真</span><span style="font-family:'MS Gothic'">を</span><span style="font-family:'Microsoft JhengHei'">撮影</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">captureBtn.addEventListener('click', () =&gt; {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">キャンバスのサイズを</span><span style="font-family:'Microsoft JhengHei'">設定</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">canvas.width = video.videoWidth;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">canvas.height = video.videoHeight;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">キャンバスに</span><span style="font-family:'Microsoft JhengHei'">現在</span><span style="font-family:'MS Gothic'">のビデオフレームを</span><span style="font-family:'Microsoft JhengHei'">描画</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">const ctx = canvas.getContext('2d');</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">ctx.drawImage(video, 0, 0, canvas.width, canvas.height);</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'Microsoft JhengHei'">画像</span><span style="font-family:'MS Gothic'">データを</span><span style="font-family:'Microsoft JhengHei'">取得</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">capturedImageData = canvas.toDataURL('image/jpeg');</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">resultImage.src = capturedImageData;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'Microsoft JhengHei'">表示</span><span style="font-family:'MS Gothic'">を</span><span style="font-family:'Microsoft JhengHei'">切</span><span style="font-family:'MS Gothic'">り</span><span style="font-family:'Microsoft JhengHei'">替</span><span style="font-family:'MS Gothic'">え</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">video.style.display = 'none';</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">resultImage.style.display = 'block';</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">ボタン</span><span style="font-family:'Microsoft JhengHei'">状態</span><span style="font-family:'MS Gothic'">を</span><span style="font-family:'Microsoft JhengHei'">更新</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">captureBtn.disabled = true;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">sendBtn.disabled = false;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">resetBtn.disabled = false;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">カメラを</span><span style="font-family:'Microsoft JhengHei'">停止</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">if (stream) {</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">stream.getTracks().forEach(track =&gt; track.stop());</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">stream = null;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">showStatus('</span><span style="font-family:'Microsoft JhengHei'">写真</span><span style="font-family:'MS Gothic'">を</span><span style="font-family:'Microsoft JhengHei'">撮影</span><span style="font-family:'MS Gothic'">しました</span><span style="font-family:'Courier New'">！', 'success');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">});</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">// Discord</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">送信</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">sendBtn.addEventListener('click', async () =&gt; {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">if (!capturedImageData) {</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">showStatus('</span><span style="font-family:'Microsoft JhengHei'">送信</span><span style="font-family:'MS Gothic'">する</span><span style="font-family:'Microsoft JhengHei'">画像</span><span style="font-family:'MS Gothic'">がありません</span><span style="font-family:'Courier New'">', 'error');</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">return;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">try {</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">sendBtn.disabled = true;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">showStatus('Discord</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">送信中</span><span style="font-family:'Courier New'">...', 'success');</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">// Base64</span><span style="font-family:'MS Gothic'">データを</span><span style="font-family:'Courier New'">Blob</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">変換</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">const blob = await fetch(capturedImageData).then(res =&gt; res.blob());</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">// FormData</span><span style="font-family:'MS Gothic'">を</span><span style="font-family:'Microsoft JhengHei'">作成</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">const formData = new FormData();</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">formData.append('file', blob, 'camera_capture.jpg');</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">formData.append('content', '</span><span style="font-family:'Microsoft JhengHei'">新</span><span style="font-family:'MS Gothic'">しい</span><span style="font-family:'Microsoft JhengHei'">画像</span><span style="font-family:'MS Gothic'">が</span><span style="font-family:'Microsoft JhengHei'">送信</span><span style="font-family:'MS Gothic'">されました</span><span style="font-family:'Courier New'">！');</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">// Discord Webhook</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">送信</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">const response = await fetch(WEBHOOK_URL, {</span></p><p style="text-indent:126pt; font-size:10.5pt"><span style="font-family:'Courier New'">method: 'POST',</span></p><p style="text-indent:126pt; font-size:10.5pt"><span style="font-family:'Courier New'">body: formData</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">});</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">if (response.ok) {</span></p><p style="text-indent:126pt; font-size:10.5pt"><span style="font-family:'Courier New'">showStatus('Discord</span><span style="font-family:'MS Gothic'">への</span><span style="font-family:'Microsoft JhengHei'">送信</span><span style="font-family:'MS Gothic'">が</span><span style="font-family:'Microsoft JhengHei'">成功</span><span style="font-family:'MS Gothic'">しました</span><span style="font-family:'Courier New'">！', 'success');</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">} else {</span></p><p style="text-indent:126pt; font-size:10.5pt"><span style="font-family:'Courier New'">throw new Error(`</span><span style="font-family:'MS Gothic'">サーバーエラー</span><span style="font-family:'Courier New'">: ${response.status}`);</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">} catch (err) {</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">console.error('</span><span style="font-family:'Microsoft JhengHei'">送信</span><span style="font-family:'MS Gothic'">エラー</span><span style="font-family:'Courier New'">:', err);</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">showStatus('</span><span style="font-family:'Microsoft JhengHei'">送信</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">失敗</span><span style="font-family:'MS Gothic'">しました</span><span style="font-family:'Courier New'">: ' + err.message, 'error');</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">sendBtn.disabled = false;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">});</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">やり</span><span style="font-family:'Microsoft JhengHei'">直</span><span style="font-family:'MS Gothic'">す</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">resetBtn.addEventListener('click', () =&gt; {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'Microsoft JhengHei'">表示</span><span style="font-family:'MS Gothic'">をリセット</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">video.style.display = 'block';</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">resultImage.style.display = 'none';</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">resultImage.src = '';</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">capturedImageData = null;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">ボタン</span><span style="font-family:'Microsoft JhengHei'">状態</span><span style="font-family:'MS Gothic'">をリセット</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">startBtn.disabled = false;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">captureBtn.disabled = true;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">sendBtn.disabled = true;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">resetBtn.disabled = true;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">showStatus('</span><span style="font-family:'MS Gothic'">リセットしました。</span><span style="font-family:'Microsoft JhengHei'">再度</span><span style="font-family:'MS Gothic'">カメラを</span><span style="font-family:'Microsoft JhengHei'">起動</span><span style="font-family:'MS Gothic'">してください</span><span style="font-family:'Courier New'">', 'success');</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">});</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">ステータスメッセージを</span><span style="font-family:'Microsoft JhengHei'">表示</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">function showStatus(message, type) {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">statusMessage.textContent = message;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">statusMessage.className = 'status ' + type;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">statusMessage.style.display = 'block';</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">// 5</span><span style="font-family:'Microsoft JhengHei'">秒後</span><span style="font-family:'MS Gothic'">に</span><span style="font-family:'Microsoft JhengHei'">消</span><span style="font-family:'MS Gothic'">える</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">setTimeout(() =&gt; {</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">statusMessage.style.display = 'none';</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">}, 5000);</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">// </span><span style="font-family:'MS Gothic'">ページを</span><span style="font-family:'Microsoft JhengHei'">離</span><span style="font-family:'MS Gothic'">れるときにカメラを</span><span style="font-family:'Microsoft JhengHei'">停止</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">window.addEventListener('beforeunload', () =&gt; {</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">if (stream) {</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">stream.getTracks().forEach(track =&gt; track.stop());</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">});</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">&lt;/script&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">&lt;/body&gt;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">&lt;/html&gt;</span></p></div></body></html>